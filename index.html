<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Import Gaze Data for EyeLink Eye Tracker • eyelinkReader</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Import Gaze Data for EyeLink Eye Tracker">
<meta name="description" content="Import gaze data from edf files generated by the SR Research &lt;https://www.sr-research.com/&gt; EyeLink eye tracker. Gaze data, both recorded events and samples, is imported per trial. The package allows to extract events of interest, such as saccades, blinks, etc. as well as recorded variables and custom events (areas of interest, triggers) into separate tables. The package requires EDF API library that can be obtained at &lt;https://www.sr-research.com/support/&gt;.">
<meta property="og:description" content="Import gaze data from edf files generated by the SR Research &lt;https://www.sr-research.com/&gt; EyeLink eye tracker. Gaze data, both recorded events and samples, is imported per trial. The package allows to extract events of interest, such as saccades, blinks, etc. as well as recorded variables and custom events (areas of interest, triggers) into separate tables. The package requires EDF API library that can be obtained at &lt;https://www.sr-research.com/support/&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">eyelinkReader</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="articles/plotting.html">Plotting</a></li>
    <li><a class="dropdown-item" href="articles/usage.html">Usage</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/alexander-pastukhov/eyelinkReader/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="eyelinkreader-">eyelinkReader <img align="right" src="https://raw.githubusercontent.com/alexander-pastukhov/eyelinkReader/refs/heads/master/eyelinkReader.svg" alt="Logo" height="138" style="float:right; height:138px;"><a class="anchor" aria-label="anchor" href="#eyelinkreader-"></a>
</h1></div>
<!-- badges: start -->

<p>R package to import eye tracking recording generated by <a href="https://www.sr-research.com/" class="external-link">SR Research</a> EyeLink eye tracker from EDF-files. It includes options to import events and/or recorded samples and extract individual events such as saccades, fixations, blinks, and recorded variables.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>These instructions are also available as a vignette.</p>
<p>The library installation involves three easy (famous last words) steps.</p>
<div class="section level3">
<h3 id="install-sr-research-eyelink-developers-kit">Install SR Research EyeLink Developers Kit<a class="anchor" aria-label="anchor" href="#install-sr-research-eyelink-developers-kit"></a>
</h3>
<p>This package relies on <em>edfapi</em> library that is as part of the <em>EyeLink Developers Kit</em>. Therefore, <code><a href="reference/read_edf.html">read_edf()</a></code> function <strong>will not work without it</strong> but you will still be able to use utility functions. The <em>EyeLink Developers Kit</em> can be downloaded from <a href="https://www.sr-research.com/support/" class="external-link">www.sr-research.com/support</a> website. Note that you need to register and wait for your account to be activated. Next, follow instructions to install <em>EyeLink Developers Kit</em> for your platform. The forum thread should be under <em>SR Support Forum › Downloads › EyeLink Developers Kit / API › Download: EyeLink Developers Kit / API Downloads (Windows, macOS, Linux)</em>.</p>
</div>
<div class="section level3">
<h3 id="configure-r-environment-variables">Configure R environment variables<a class="anchor" aria-label="anchor" href="#configure-r-environment-variables"></a>
</h3>
<p>The package needs to configure compiler flags for its dependency on EDF API library. Specifically, it needs to specify paths to include header files (<em>edf.h</em>, <em>edf_data.h</em>, and <em>edftypes.h</em>) and to the library itself. The package will try to compile using sensible defaults for each platform, i.e., default installation paths for <em>EyeLink Developers Kit v2.1.1</em>. However, these defaults may change in the future or you may wish to install the library to a non-standard location (relevant primarily for Windows).</p>
<p>If compilation with default paths fails, you need to define R environment variables as described below. These variables must be defined either in user or project <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Startup.html" class="external-link">.Renviron</a> file. The simplest way to edit it is via <a href="https://usethis.r-lib.org/" class="external-link">usethis</a> library and <a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_environ()</a> function. Type <code>usethis::edit_r_environ()</code> for user and <code>usethis::edit_r_environ('project')</code> for projects environments (note that the latter shadows the former, read <a href="https://usethis.r-lib.org/" class="external-link">documentation</a> for details). Note that in the case of Windows, you do not need to worry about forward vs. backward slashes as R will normalize strings for you. Once you define the variables, restart session and check them by typing <code><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv()</a></code> (to see all variables) or <code>Sys.getenv("EDFAPI_INC")</code> to check a specific one.</p>
<div class="section level4">
<h4 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h4>
<p>For the package to work on Windows, you must install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a>. Please note that as of 31.05.2024, you need <a href="https://cran.r-project.org/bin/windows/Rtools/rtools43/rtools.html" class="external-link">Rtool43</a> even if your R version is 4.4.x, the compilation fails with Rtools44.</p>
<p>Default values assume that the EyeLink Developers Kit is installed in <code>c:/Program Files (x86)/SR Research/EyeLink</code> (default installation path).</p>
<ul>
<li>
<code>EDFAPI_LIB</code> : path to <code>edfapi.dll</code> for <strong>32-bit systems</strong>. Defaults to <code>c:/Program Files (x86)/SR Research/EyeLink/libs</code>.</li>
<li>
<code>EDFAPI_LIB64</code> (optional): path to <code>edfapi64.dll</code> for <strong>64-bit systems</strong>. By default, the 64-bit library is in <em>x64</em> subfolder, i.e., <code>c:/Program Files (x86)/SR Research/EyeLink/libs/x64</code>. This variable is optional, as the package will try to guess this by itself by appending <code>/x64</code> to <code>EDFAPI_LIB</code> path. However, you should specify this variable explicitly if 64-libraries are in a non-standard folder (or SR Research changed it, or you just want to be sure).</li>
<li>
<code>EDFAPI_INC</code> : path to C header files necessary for compilation. Specifically, the package requires <em>edf.h</em>, <em>edf_data.h</em>, and <em>edftypes.h</em>. Defaults to <code>c:/Program Files (x86)/SR Research/EyeLink/Includes/eyelink</code>.</li>
</ul>
<p>Your <code>.Renviron</code> file should include lines similar to the ones below</p>
<pre><code><span><span class="va">EDFAPI_LIB</span><span class="op">=</span><span class="st">"c:/Program Files (x86)/SR Research/EyeLink/libs"</span></span>
<span><span class="va">EDFAPI_LIB64</span><span class="op">=</span><span class="st">"c:/Program Files (x86)/SR Research/EyeLink/libs/x64"</span></span>
<span><span class="va">EDFAPI_INC</span><span class="op">=</span><span class="st">"c:/Program Files (x86)/SR Research/EyeLink/Includes/eyelink"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h4>
<ul>
<li>
<code>EDFAPI_INC</code> : path to C header files necessary for compilation. Specifically, the package requires <em>edf.h</em>, <em>edf_data.h</em>, and <em>edftypes.h</em>. Defaults to <code>/usr/include/EyeLink</code>.</li>
</ul>
<p>Your <code>.Renviron</code> file should include a line like this</p>
<pre><code><span><span class="va">EDFAPI_INC</span><span class="op">=</span><span class="st">"/usr/include/EyeLink"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="mac-os">Mac OS<a class="anchor" aria-label="anchor" href="#mac-os"></a>
</h4>
<ul>
<li>
<code>EDFAPI_LIB</code>: path to EDF API framework. Defaults to <code>/Library/Frameworks</code>
</li>
<li>
<code>EDFAPI_INC</code> : path to C header files necessary for compilation. Specifically, the package requires <em>edf.h</em>, <em>edf_data.h</em>, and <em>edftypes.h</em>. Defaults to <code>/Library/Frameworks/edfapi.framework/Headers</code>
</li>
</ul>
<p>Your <code>.Renviron</code> file should include lines similar to the ones below</p>
<pre><code><span><span class="va">EDFAPI_LIB</span><span class="op">=</span><span class="st">"/Library/Frameworks"</span></span>
<span><span class="va">EDFAPI_INC</span><span class="op">=</span><span class="st">"/Library/Frameworks/edfapi.framework/Headers"</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="install-the-library">Install the library<a class="anchor" aria-label="anchor" href="#install-the-library"></a>
</h3>
<p>To install from CRAN</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"eyelinkReader"</span><span class="op">)</span></span></code></pre></div>
<p>To install from github</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"alexander-pastukhov/eyelinkReader"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The main function is <code><a href="reference/read_edf.html">read_edf()</a></code> that imports an EDF file (or throws an error, if EDF API is not installed). By default it will import all events and attempt to extract standard events: saccades, blinks, fixations, logged variables, etc.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexander-pastukhov/eyelinkReader/" class="external-link">eyelinkReader</a></span><span class="op">)</span></span>
<span><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_edf.html">read_edf</a></span><span class="op">(</span><span class="st">'eyelink-recording.edf'</span><span class="op">)</span></span></code></pre></div>
<p>Events and individual event types are stored as tables inside the <code>eyelinkRecording</code> object with <code>trial</code> column identifying individual trials. Trial 0 correspond to events (e.g, <code>DISPLAY_COORDS</code> message, etc.) sent to the eye tracker before the first trial.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">gaze</span><span class="op">$</span><span class="va">saccades</span><span class="op">)</span></span></code></pre></div>
<p>There is a basic utility for plotting saccades and fixations for an individual trial</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gaze</span>, trial <span class="op">=</span> <span class="fl">1</span>, show_fixations <span class="op">=</span> <span class="cn">TRUE</span>, show_saccades <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>or across trials</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gaze</span>, trial <span class="op">=</span> <span class="cn">NULL</span>, show_fixations <span class="op">=</span> <span class="cn">TRUE</span>, show_saccades <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>The package also includes functions to parse non-standard events: recorded areas of interest (<code>extract_AOIs</code>) and trigger events that help to time events (<code>extract_triggers</code>). These need to be called separately.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_AOIs.html">extract_AOIs</a></span><span class="op">(</span><span class="va">gaze</span><span class="op">)</span></span>
<span><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extract_triggers.html">extract_triggers</a></span><span class="op">(</span><span class="va">gaze</span><span class="op">)</span></span></code></pre></div>
<p>To import samples, add <code>import_samples = TRUE</code> and, optionally, specify which sample attributes need to be imported, e.g., <code>sample_attributes = c('time', 'gx', 'gy')</code>. All attributes are imported if <code>sample_attributes</code> is not specified. See package and EDF API documentation for the full list of attribute names.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># import samples with all attributes</span></span>
<span><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_edf.html">read_edf</a></span><span class="op">(</span><span class="st">'eyelink-recording.edf'</span>, import_samples <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># import samples with selected attributes</span></span>
<span><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_edf.html">read_edf</a></span><span class="op">(</span><span class="st">'eyelink-recording.edf'</span>,</span>
<span>                 import_samples <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                 sample_attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'time'</span>, <span class="st">'gx'</span>, <span class="st">'gy'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>See also a vignette on package usage. Please refer to documentation on <code>eyelinkRecording</code> class for details on events and samples.</p>
</div>
<div class="section level2">
<h2 id="further-information-on-edf-file-content">Further information on EDF file content<a class="anchor" aria-label="anchor" href="#further-information-on-edf-file-content"></a>
</h2>
<p>I have attempted to document the package as thoroughly as I could. However, for any question about specific attributes please refer to the EDF API manual and EyeLink documentation, which is supplied by SR Research alongside the library.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=eyelinkReader" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/alexander-pastukhov/eyelinkReader/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/alexander-pastukhov/eyelinkReader/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing eyelinkReader</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alexander Pastukhov <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8738-8591" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://doi.org/10.5281/zenodo.7050482" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7050482.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=eyelinkReader" class="external-link"><img src="https://www.r-pkg.org/badges/version/eyelinkReader" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Pastukhov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
